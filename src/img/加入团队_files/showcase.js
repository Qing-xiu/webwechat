!function(){var i={config:{content:$("body"),cartsku:{btnType:2,btn:$("#J_btnGoCart"),removeOnClose:!0,isShow:!0},swiper:{},share:{},favo:{},audio:{},video:{client_id:"ea8d700c96a7365c"}},cart:function(i){i.init()},cartsku:function(i,n){var t=this,a=n.data("id"),o=$('<span class="btn-buy btn-buy-loading"></span>'),e=n.replaceWith(o),s=$.extend({},t.config.cartsku,{id:a,onInit:function(){o.replaceWith(e)},onError:function(i){$.notify(i),o.replaceWith(e)}});return new i(s),this},share:function(i,n){i.set(n)},favo:function(i,n){i.favorite(n)},audio:function(i,n){function t(i){return Math.floor(i/60)+'"'+Math.round(i%60)+"'"}var a,o,e=n.find(".audio-cont"),s=n.find(".audio-progress");return o=new i({audioEle:n.find("audio"),duration:n.find("audio").data("duration"),onCanplay:function(){this.play()},onPlay:function(){e.addClass("playing")},onPause:function(){e.removeClass("playing")},onTimeupdate:function(){s.css("width",100*this.played()+"%")}}),a=o.audio,n.find(".audio-duration").text(t(o.cfg.duration)),n.on("click",".audio-cont",function(){1==a.attr("loaded")?o.paused()?a.data("replay")?o.replay():o.play():o.pause():a.attr("src",a.data("url")).attr("loaded",1)}),o},video:function(i){var n,t=this.config.video.client_id,a=i.find(".video-thumb");if(!(a.length<1))return n=new YKU.Player(i.attr("id"),{styleid:"0",client_id:t,vid:a.data("vid")})},swiper:function(i){i.swiper({calculateHeight:!0,loop:!0,cssWidthAndHeight:"height",grabCursor:!0,autoplayDisableOnInteraction:!1,autoplay:3e3,onSlideChangeEnd:function(i){var n=$(i.container).find(".indicators-list");n.find(".cur").removeClass("cur"),n.find(".item").eq(i.activeLoopIndex).addClass("cur")},onFirstInit:function(){}})},init:function(i){var n=this;i&&$.extend(!0,n.config,i)}},n={wgts:_.uniq(WD_CONFS.wgts,function(i,n){return i.id}),box:$("#J_body"),bindShowcase:function(i){var n=this.box;_.each(this.wgts,function(t,a){switch(t.id){case"audio":seajs.use(["m.audio"],function(t){n.find(".comp-audio").each(function(){i.audio(t,$(this))})});break;case"share":seajs.use(["m.share"],function(t){n.find(".btn-share").each(function(){i.share(t,{dom_id:$(this).attr("id")})}),i.favo(t,n.find(".btn-favor"))});break;case"video":n.find(".video-cont").on("click",function(){i.video($(this))});break;case"image":n.find(".swiper-container").length>0&&seajs.use(["m.swiper"],function(t){t($),i.swiper(n.find(".swiper-container"))})}})},cartsku:function(i){var n=this;seajs.use("m.cartsku",function(t){n.box.on("click",".btn-buy",function(){i.cartsku(t,$(this))})})},cart:function(i){seajs.use("p.cart",function(n){i.cart(n)})},init:function(n){var t=this;this.cfg=$.extend({showcaseCfg:null,isCartsku:!0,isCart:!0},n),i.init(t.cfg.showcaseCfg),t.bindShowcase(i),t.cfg.isCartsku&&t.cartsku(i),t.cfg.isCart&&t.cart(i)}};window.WD||(window.WD={}),WD.showcaseEvent=n}();
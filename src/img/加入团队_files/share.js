var baidu=baidu||{version:"1.3.8"};baidu.socShare=baidu.socShare||{};baidu.socShare.array=baidu.socShare.array||{};baidu.socShare.each=baidu.socShare.array.forEach=baidu.socShare.array.each=function(g,e,b){if(!g||!g.length){return g}var d,f,c,a=g.length;if("function"==typeof e){for(c=0;c<a;c++){f=g[c];d=e.call(b||g,f,c);if(d===false){break}}}return g};baidu.socShare.array.find=function(e,c){var d,b,a=e.length;if("function"==typeof c){for(b=0;b<a;b++){d=e[b];if(true===c.call(e,d,b)){return d}}}return null};baidu.socShare.array.indexOf=function(e,b,d){var a=e.length,c=b;d=d|0;if(d<0){d=Math.max(0,a+d)}for(;d<a;d++){if(d in e&&e[d]===b){return d}}return -1};baidu.socShare.array.remove=function(c,b){var a=c.length;while(a--){if(a in c&&c[a]===b){c.splice(a,1)}}return c};baidu.socShare.dom=baidu.socShare.dom||{};baidu.socShare.dom.g=function(a){if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a&&a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu.socShare.g=baidu.socShare.G=baidu.socShare.dom.g;baidu.socShare.dom.getAncestorByTag=function(b,a){b=baidu.socShare.dom.g(b);a=a.toUpperCase();while((b=b.parentNode)&&b.nodeType==1){if(b.tagName==a){return b}}return null};baidu.socShare.event=baidu.socShare.event||{};baidu.socShare.event.getTarget=function(a){return a.target||a.srcElement};baidu.socShare.event._listeners=baidu.socShare.event._listeners||[];baidu.socShare.lang=baidu.socShare.lang||{};baidu.socShare.lang.isString=function(a){return"[object String]"==Object.prototype.toString.call(a)};baidu.socShare.isString=baidu.socShare.lang.isString;baidu.socShare.dom._g=function(a){if(baidu.socShare.lang.isString(a)){return document.getElementById(a)}return a};baidu.socShare._g=baidu.socShare.dom._g;baidu.socShare.event.on=function(b,e,g){e=e.replace(/^on/i,"");b=baidu.socShare.dom._g(b);var f=function(i){g.call(b,i)},a=baidu.socShare.event._listeners,d=baidu.socShare.event._eventFilter,h,c=e;e=e.toLowerCase();if(d&&d[e]){h=d[e](b,e,f);c=h.type;f=h.listener}if(b.addEventListener){b.addEventListener(c,f,false)}else{if(b.attachEvent){b.attachEvent("on"+c,f)}}a[a.length]=[b,e,g,f,c];return b};baidu.socShare.event.un=function(c,f,b){c=baidu.socShare.dom._g(c);f=f.replace(/^on/i,"").toLowerCase();var i=baidu.socShare.event._listeners,d=i.length,e=!b,h,g,a;while(d--){h=i[d];if(h[1]===f&&h[0]===c&&(e||h[2]===b)){g=h[4];a=h[3];if(c.removeEventListener){c.removeEventListener(g,a,false)}else{if(c.detachEvent){c.detachEvent("on"+g,a)}}i.splice(d,1)}}return c};baidu.socShare.on=baidu.socShare.event.on;baidu.socShare.un=baidu.socShare.event.un;baidu.socShare.lang.module=function(name,module,owner){var packages=name.split("."),len=packages.length-1,packageName,i=0;if(!owner){try{if(!(new RegExp("^[a-zA-Z_\x24][a-zA-Z0-9_\x24]*\x24")).test(packages[0])){throw""}owner=eval(packages[0]);i=1}catch(e){owner=window}}for(;i<len;i++){packageName=packages[i];if(!owner[packageName]){owner[packageName]={}}owner=owner[packageName]}if(!owner[packages[len]]){owner[packages[len]]=module}};baidu.socShare.object=baidu.socShare.object||{};baidu.socShare.extend=baidu.socShare.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c};baidu.socShare.string=baidu.socShare.string||{};baidu.socShare.string.decodeHTML=function(a){var b=String(a).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return b.replace(/&#([\d]+);/g,function(d,c){return String.fromCharCode(parseInt(c,10))})};baidu.socShare.decodeHTML=baidu.socShare.string.decodeHTML;(function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");baidu.socShare.string.trim=function(b){return String(b).replace(a,"")}})();baidu.socShare.trim=baidu.socShare.string.trim;baidu.socShare.dom.remove=function(b){b=baidu.socShare.dom.g(b);var a=b.parentNode;a&&a.removeChild(b)};baidu.socShare.dom.addClass=function(f,g){f=baidu.socShare.dom.g(f);var b=g.split(/\s+/),a=f.className,e=" "+a+" ",d=0,c=b.length;for(;d<c;d++){if(e.indexOf(" "+b[d]+" ")<0){a+=(a?" ":"")+b[d]}}f.className=a;return f};baidu.socShare.addClass=baidu.socShare.dom.addClass;baidu.socShare.dom.removeClass=function(f,g){f=baidu.socShare.dom.g(f);var d=f.className.split(/\s+/),h=g.split(/\s+/),b,a=h.length,c,e=0;for(;e<a;++e){for(c=0,b=d.length;c<b;++c){if(d[c]==h[e]){d.splice(c,1);break}}}f.className=d.join(" ");return f};baidu.socShare.removeClass=baidu.socShare.dom.removeClass;baidu.socShare.dom.hasClass=function(c,d){c=baidu.socShare.dom.g(c);if(!c||!c.className){return false}var b=baidu.socShare.string.trim(d).split(/\s+/),a=b.length;d=c.className.split(/\s+/).join(" ");while(a--){if(!(new RegExp("(^| )"+b[a]+"( |\x24)")).test(d)){return false}}return true};baidu.socShare.dom.toggleClass=function(a,b){if(baidu.socShare.dom.hasClass(a,b)){baidu.socShare.dom.removeClass(a,b)}else{baidu.socShare.dom.addClass(a,b)}};baidu.socShare.sio=baidu.sio||{};baidu.socShare.sio._createScriptTag=function(b,a,c){b.setAttribute("type","text/javascript");c&&b.setAttribute("charset",c);b.setAttribute("src",a);document.getElementsByTagName("head")[0].appendChild(b)};baidu.socShare.sio._removeScriptTag=function(b){if(b.clearAttributes){b.clearAttributes()}else{for(var a in b){if(b.hasOwnProperty(a)){delete b[a]}}}if(b&&b.parentNode){b.parentNode.removeChild(b)}b=null};baidu.socShare.sio.callByBrowser=function(a,g,i){var d=document.createElement("SCRIPT"),e=0,j=i||{},c=j.charset,h=g||function(){},f=j.timeOut||0,b;d.onload=d.onreadystatechange=function(){if(e){return}var k=d.readyState;if("undefined"==typeof k||k=="loaded"||k=="complete"){e=1;try{h();clearTimeout(b)}finally{d.onload=d.onreadystatechange=null;baidu.socShare.sio._removeScriptTag(d)}}};if(f){b=setTimeout(function(){d.onload=d.onreadystatechange=null;baidu.socShare.sio._removeScriptTag(d);j.onfailure&&j.onfailure()},f)}baidu.socShare.sio._createScriptTag(d,a,c)};baidu.socShare.lang.min=function(b,a){return b<a?b:a};baidu.socShare.dom.getPageScrollTop=function(){var a;if(window.pageYOffset){a=window.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollTop}else{if(document.body){a=document.body.scrollTop}}}return a};baidu.socShare.dom.getPageSize=function(){var b,e;if(window.innerHeight&&window.scrollMaxY){b=window.innerWidth+window.scrollMaxX;e=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){b=document.body.scrollWidth;e=document.body.scrollHeight}else{if(document.body){b=document.body.offsetWidth;e=document.body.offsetHeight}}}var a,d;if(window.innerHeight){a=window.innerWidth;d=window.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){a=document.documentElement.clientWidth;d=document.documentElement.clientHeight}else{if(document.body){a=document.body.clientWidth;d=document.body.clientHeight}}}var c=(b<a)?a:b;var f=(e<d)?d:e;return{PageW:c,PageH:f,WinW:a,WinH:d}};baidu.socShare.getBrowserInfo=function(){var a={};var b=navigator.userAgent.toLowerCase();var c;(c=b.match(/msie ([\d.]+)/))?a.ie=c[1]:(c=b.match(/firefox\/([\d.]+)/))?a.firefox=c[1]:(c=b.match(/chrome\/([\d.]+)/))?a.chrome=c[1]:(c=b.match(/ucbrowser\/([\d.]+)/))?a.uc=c[1]:(c=b.match(/qqbrowser\/([\d.]+)/))?a.qq=c[1]:(c=b.match(/baidubrowser\/([\d.]+)/))?a.baidu=c[1]:(c=b.match(/zhangbai\/([\d.]+)/))?a.zhangbai=c[1]:(c=b.match(/cyanogenmod\-([\d.]+)/))?a.dolphin=c[1]:(c=b.match(/opera.([\d.]+)/))?a.opera=c[1]:(c=b.match(/version\/([\d.]+).*safari/))?a.safari=c[1]:0;return a};baidu.socShare.isIPhone=function(){var a=navigator.userAgent.toLowerCase();return !!a.match(/ipad|iphone|ipod/)};baidu.socShare.isAndroid=function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("android")>0};baidu.socShare.lang.module("baidu.socShare.ui",{_stylelink:"http://openapi.baidu.com/static/07081126/social-api/css/bd_share.css?t=07081126",_orientTimer:null,_tpl:'<div class="bd-share"><ul class="bd-cl" id="bd_share_mediaes" style="width:<%=listWidth%>;"><%baidu.socShare.each(mediaes,function(media,idx){%><li class="media"><a class="<%=media.media_type%>" id="bd_share_mediaes_<%=media.media_type%>" href="<%=href[media.media_type]%>"><%=media.cn%></a></li><%});%></ul></div>',_template:function(e,d){var g={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},f=function(c){return(""+c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};var a="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(g.escape||noMatch,function(c,h){return"',_escape("+unescape(h)+"),'"}).replace(g.interpolate||noMatch,function(c,h){return"',"+unescape(h)+",'"}).replace(g.evaluate||noMatch,function(c,h){return"');"+unescape(h).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var b=new Function("obj","_escape",a);if(d){return b(d,f)}return function(c,h){return b.call(this,c,h)}},_addStyle:function(){var c=this;var f=document.getElementsByTagName("head")[0];var b=document.getElementsByTagName("link");var g=true;for(var e=0,a=b.length;e<a;e++){if(b[0].href.indexOf(c._stylelink)===0){g=false;break}}if(g){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",c._stylelink);f.appendChild(d)}},_add_event:function(d){var b=this;var c=this._data;var f=c.time;var e=baidu.socShare.g("bd_share_popup_"+f);var a=c.theme==="native"&&c.animate!==false;b._viewOrientHandler=function(g){b._orient()};b._shareBtnClickHandler=function(g){b._show(e,a);if(c.shortLink&&c.shortLink==="click"&&!baidu.socShare.acc.shortLinks.sms){baidu.socShare.acc.getShortLink(c,function(){c.href=baidu.socShare.acc.getHref(c);baidu.socShare.g("bd_share_mediaes_mail",e).href=c.href.mail;baidu.socShare.g("bd_share_mediaes_sms",e).href=c.href.sms})}return false};b._layClickHandler=function(h){var g=window.event?window.event.srcElement:h.target;if(g===this.getElementsByTagName("td")[0]){b._hide(e,a)}return false};b._closeBtnClickHandler=function(g){b._hide(e,a);return false};if(!d){baidu.socShare.on(window,"orientationchange",b._viewOrientHandler);baidu.socShare.on(c.dom_id,"click",b._shareBtnClickHandler)}baidu.socShare.on("bd_share_popup_close_"+f,"click",b._closeBtnClickHandler);baidu.socShare.on("bd_share_popup_content","click",b._layClickHandler)},_remove_event:function(c){var a=this;var b=a._data;var d=b.time;baidu.socShare.un(window,"orientationchange",a._viewOrientHandler);baidu.socShare.un(b.dom_id,"click",a._shareBtnClickHandler);baidu.socShare.un("bd_share_popup_close_"+d,"click",a._closeBtnClickHandler);baidu.socShare.un("bd_share_popup_content","click",a._layClickHandler)},_hide:function(b,a){if(a===true){this._slide("down",function(){b.style.display="none"})}else{b.style.display="none"}},_show:function(b,a){if(a===true){b.style.display="";this._slide("up")}else{b.style.display=""}},_slide:function(c,f){var b=baidu.socShare.g("bd_share_popup"),a=b.offsetHeight,e;if(c==="up"){b.style.height=0;e=function(g){return((a-inc*a/total)+"px")}}else{e=function(g){return(inc*a/total+"px")}}var d=(function(){if(typeof document.body.style.webkitTransition){return function(){b.style.height=c==="up"?0:a+"px";b.style.overflow="hidden";b.style.webkitTransition="height linear .3s";var h=function(){b.style.height="auto";b.style.overflow="auto";b.style.webkitTransition="none";f&&f();b.removeEventListener("webkitTransitionEnd",h,false)};b.addEventListener("webkitTransitionEnd",h,false);setTimeout(function(){b.style.height=c==="up"?a+"px":0},0)}}else{var g=inc=15;return function(){inc--;b.style.height=e(inc);if(inc>0){setTimeout(d,30)}else{f&&f();b.style.height="auto"}}}})();d()},_orient:function(){var a=this;var b=this._data;delete b.afterInit;a._orientTimer&&clearTimeout(a._orientTimer);a._orientTimer=setTimeout(function(){a.render(b,true)},500);return false},_popup_render:function(){var a=this._data;var b=baidu.socShare.g("bd_share_popup_"+a.time);if(!b){b=document.createElement("div"),b.style.display="none";b.id="bd_share_popup_"+a.time}b.innerHTML=this._template('<div class="bd-share-popup-layer" id="bd_share_popup_layer" style="height:<%=(pageHeight+500)%>px;"></div><div class="bd-share-pop-content <%=theme%>" id="bd_share_popup_content" style="height:<%=pageHeight%>px;"><table><tr><td><div class="bd-share-popup" id="bd_share_popup" style="width:<%=popupWidth%>;">'+this._tpl+'<div class="bd-share-popup-footer"><a class="bd-share-popup-close" id="bd_share_popup_close_<%=time%>" href="javascript:void 0;">取消</a></div></div></div></td></tr></table>',a);document.body.appendChild(b)},close:function(){var a=this._data;if(a){var b=baidu.socShare.g("bd_share_popup_"+a.time);b&&this._hide(b)}},destroy:function(){var a=this._data;if(a){var b=baidu.socShare.g("bd_share_popup_"+a.time);this.close();this._remove_event();b&&baidu.socShare.dom.remove(b)}},render:function(c,b){this._data=c;var a=this;if(c&&c.afterInit&&typeof c.afterInit==="function"){c.afterInit(c.href)}else{c.theme=c.theme||"web";var e=baidu.socShare.dom.getPageSize();c.pageHeight=e.WinH;if(c.theme==="native"){c.popupWidth="100%";c.listWidth=(e.WinW-e.WinW%76)+"px"}else{c.listWidth="100%";c.popupWidth=(e.WinW-e.WinW%76)+"px"}if(!b){this._addStyle();var d=c.afterRender}this._popup_render();this._add_event(b);d&&(typeof d==="function")&&d()}}});(function(){window.afterGetShortLink=function(a){a.mail=a.email;baidu.socShare.acc.shortLinks=a};baidu.socShare.lang.module("baidu.socShare.acc",{shortLinks:{},_order:[],_defaultOrder:["qqdenglu","sinaweibo","qqweibo","renren","kaixin","mail","sms"],_mediaes:{qqdenglu:{media_type:"qqdenglu",cn:"QQ空间",selected:false},sinaweibo:{media_type:"sinaweibo",cn:"新浪微博",selected:false},qqweibo:{media_type:"qqweibo",cn:"腾讯微博",selected:false},renren:{media_type:"renren",cn:"人人网",selected:false},kaixin:{media_type:"kaixin",cn:"开心网",selected:false},mail:{media_type:"mail",cn:"邮件",selected:false},sms:{media_type:"sms",cn:"短信",selected:false}},getShortLink:function(c,e){var a=this;var d="client_id="+c.client_id+"&url="+c.url+"&client_type=web&media_types=email,sms&callback=afterGetShortLink";var b="http://openapi.baidu.com/social/api/2.0/share_batch/back/url";baidu.socShare.sio.callByBrowser(b+"?"+d,function(f){a.afterGetShortLink(c,e)})},afterGetShortLink:function(a,c){var b=this.shortLinks;a.shortLinks=b;c&&c()},getEmailHref:function(e,d){var b="";if(baidu.socShare.isIPhone()){var f=e.replace(/&/g,"&amp;");b=encodeURIComponent(f+"   ")+d}else{if(baidu.socShare.isAndroid()){var c=baidu.socShare.getBrowserInfo();if(c.baidu){b=encodeURIComponent(e+"   ")+d}else{b=e+"   "+d}b=encodeURIComponent(b)}else{var a=e.replace(/&/g,"%26");b=a+"   "+d}}return"mailto:someone@somedomain.com?body="+b},getSMSHref:function(d,c){var a="";var b=baidu.socShare.getBrowserInfo();if(!b.baidu){d=d.replace(/\?/g,"？")}a=encodeURIComponent(d+"   ")+c;return"sms:?body="+a},getQQHref:function(b){var a=b.url||"";return["http://openmobile.qq.com/oauth2.0/m_jump?page=qzshare.html&loginpage=loginindex.html&logintype=qzone","&site="+encodeURIComponent("百度"),"&appName="+encodeURIComponent("百度"),"&summary="+encodeURIComponent(b.content?b.content:" "),"&title="+encodeURIComponent(b.title?b.title:" "),"&appId=100312028","&action=shareToQQ","&targetUrl="+a,b.pic_url?"&imageUrl="+b.pic_url:"","&t="+(new Date()).getTime()].join("")},getHref:function(d){var g=d.content||"";var f=d.pic_url||"";var a=d.url||"";var i=d.u||d.url;var h=d.title;var c=encodeURIComponent(this._order.join(","));(g.length>140)&&(g=g.substring(0,140));var b={},e=this;baidu.socShare.each(d.mediaes,function(l,j){var k="";if(l.media_type==="mail"){k=e.getEmailHref(g,e._getUrl(d,"mail"))}else{if(l.media_type==="sms"){k=e.getSMSHref(g,e._getUrl(d,"sms"))}else{if(l.media_type==="qqdenglu"){k=e.getQQHref(d)}else{k="http://openapi.baidu.com/social/widget/share?method=share&media_type="+l.media_type+"&client_id="+d.client_id+"&url="+a+"&pic_url="+f+"&content="+encodeURIComponent(g)+"&u="+i;(!d.afterInit)&&(k+="&enabled_medias="+c);h&&(k+="&title="+encodeURIComponent(h))}}}b[l.media_type]=k});return b},_getMedia:function(a){if(a==="sms"&&baidu.socShare.isIPhone()){return null}var b=baidu.socShare.acc._mediaes;return b[a]},_filterMediaesOrder:function(b){var d=[];var f=baidu.socShare.acc._mediaes;if(b&&!!b.length){for(var e=0,a=b.length;e<a;e++){var c=b[e];f[c].selected=false;if(f[c]&&!f[c].selected){d.push(c);f[c].selected=true}}}!d.length&&(d=this._defaultOrder);return d},_getShowMediaes:function(b){this._order=[];b=this._filterMediaesOrder(b);var f=[];for(var d=0,a=b.length;d<a;d++){var c=b[d];var e=this._getMedia(c);if(e){(c!=="sms"||c!=="mail")&&this._order.push(c);f.push(e)}}return f},_render:function(a){baidu.socShare.ui.render(a)},_getUrl:function(a,b){var c=a.shortLinks||{};return c[b]||a.url},init:function(b){var a=this;b.time=new Date().getTime();b.mediaes=this._getShowMediaes(b.order);var c=function(d){d.href=a.getHref(d);a._render(d)};if(b.shortLink&&b.shortLink==="init"){this.getShortLink(b,function(){c(b)})}else{c(b)}}})})();var baidu=baidu||{};baidu.socShare=baidu.socShare||{};(function(){var a=baidu.socShare;function c(d){return d.replace(/[^\x00-\xff]/g,"ci").length}function b(g,d,e){if(d<0||c(g)<=d){return g.valueOf()}var f=g.substr(0,d).replace(/([^\x00-\xff])/g,"\x241 ").substr(0,d).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"\x241");return f+(e||"")}a.init=function(d){if(!d&&typeof d!=="object"){alert("请参照文档填写个配置吧");return false}else{if(!d.afterInit&&!a.g(d.dom_id)){alert("找不到您配置触发浮层的dom节点");return false}}d&&!d.url&&(d.url=encodeURIComponent(location.href));if(d.content){d.content=b(d.content,300,"...")}a.acc.init(d)};a.close=function(){a.ui.close()};a.destroy=function(){a.ui.destroy()}})();